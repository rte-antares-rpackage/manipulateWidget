<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Even More Interactivity to Interactive Charts • manipulateWidget</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">manipulateWidget</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="articles/manipulateWidgets.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="news/index.html">Change Log</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rte-antares-rpackage/manipulateWidget">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="index_files/htmlwidgets-0.8/htmlwidgets.js"></script><link href="index_files/plotlyjs-1.16.3/plotly-htmlwidgets.css" rel="stylesheet">
<script src="index_files/plotlyjs-1.16.3/plotly-latest.min.js"></script><script src="index_files/plotly-binding-4.5.6/plotly.js"></script><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">

<p>This R package is largely inspired by the <code>manipulate</code> package from Rstudio. It provides the function <code>manipulateWidget</code> that can be used to create in a very easy way a graphical interface that let the user modify the data or the parameters of an interactive chart. Technically, the function generates a Shiny gadget, but the user does not even have to know what is Shiny.</p>
<div id="why-should-you-use-it" class="section level2">
<h2 class="hasAnchor">
<a href="#why-should-you-use-it" class="anchor"> </a>Why should you use it?</h2>
<p>All functionalities of this package can be replicated with other packages like <a href="https://shiny.rstudio.com/">shiny</a>, <a href="http://rmarkdown.rstudio.com/flexdashboard/">flexdashboard</a>, <a href="http://rstudio.github.io/crosstalk/">crosstalk</a> and others. So why another package?</p>
<p><code>manipulateWidget</code> has three advantages:</p>
<ul>
<li>It is easy and fast to use. Only a few lines of <code>R</code> are necessary to create a user interface.</li>
<li>Code can be included in any R script. No need to create a dedicated .R or .Rmd file.</li>
<li>It works with all htmlwidgets. In contrast, <code>crosstalk</code> only supports a few of them.</li>
</ul>
<p><code>manipulateWidget</code> can be especially powerful for users who are exploring some data set and want to quickly build a graphical tool to see what is in their data. <code>manipulateWidget</code> has also some advanced features that can be used with almost no additional code and that could seduce some package developers: grouping inputs, conditional inputs and comparison mode.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"> </a>Installation</h2>
<p>The package can be installed from CRAN:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"manipulateWidget"</span>)</code></pre></div>
<p>You can also install the latest development version from github:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">"rte-antares-rpackage/manipulateWidget"</span>, <span class="dt">ref=</span><span class="st">"develop"</span>)</code></pre></div>
</div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"> </a>Getting started</h2>
<p>The hard part for the user is to write a code that generates an interactive chart. Once this is done, he only has to describe what parameter of the code should be modified by what input control. For instance, consider the following code that identifies clusters in the iris data set and uses package <code>plotly</code> to generate an interactive scatter plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(plotly)
<span class="kw">data</span>(iris)

plotClusters &lt;-<span class="st"> </span>function(xvar, yvar, nclusters) {
  clusters &lt;-<span class="st"> </span><span class="kw">kmeans</span>(iris[, <span class="dv">1</span>:<span class="dv">4</span>], <span class="dt">centers =</span> nclusters)
  clusters &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">"Cluster"</span>, clusters$cluster)
  
  <span class="kw">plot_ly</span>(<span class="dt">x =</span> ~iris[[xvar]], <span class="dt">y =</span> ~iris[[yvar]], <span class="dt">color =</span> ~clusters,
          <span class="dt">type =</span> <span class="st">"scatter"</span>, <span class="dt">mode =</span> <span class="st">"markers"</span>) %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">layout</span>(<span class="dt">xaxis =</span> <span class="kw">list</span>(<span class="dt">title=</span>xvar), <span class="dt">yaxis =</span> <span class="kw">list</span>(<span class="dt">title=</span>yvar))
}

<span class="kw">plotClusters</span>(<span class="st">"Sepal.Width"</span>, <span class="st">"Sepal.Length"</span>, <span class="dv">3</span>)</code></pre></div>
<div id="htmlwidget-e8dd9fbe55db5d54d0d9" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e8dd9fbe55db5d54d0d9">{"x":{"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"title":"Sepal.Width"},"yaxis":{"domain":[0,1],"title":"Sepal.Length"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"modeBarButtonsToRemove":["sendDataToCloud"]},"data":[{"x":[3.5,3,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3,3,4,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3,3.4,3.5,2.3,3.2,3.5,3.8,3,3.8,3.2,3.7,3.3],"y":[5.1,4.9,4.7,4.6,5,5.4,4.6,5,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5,5,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5,5.5,4.9,4.4,5.1,5,4.5,4.4,5,5.1,4.8,5.1,4.6,5.3,5],"mode":"markers","type":"scatter","name":"Cluster 1","marker":{"fillcolor":"rgba(102,194,165,0.5)","color":"rgba(102,194,165,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y"},{"x":[3.1,3,3.3,3,2.9,3,3,2.9,2.5,3.6,3.2,2.7,3,3.2,3,3.8,2.6,3.2,2.8,3.3,3.2,2.8,3,2.8,3.8,2.8,2.6,3,3.4,3.1,3.1,3.1,3.1,3.2,3.3,3,3,3.4],"y":[6.9,6.7,6.3,7.1,6.3,6.5,7.6,7.3,6.7,7.2,6.5,6.4,6.8,6.4,6.5,7.7,7.7,6.9,7.7,6.7,7.2,6.4,7.2,7.4,7.9,6.4,6.1,7.7,6.3,6.4,6.9,6.7,6.9,6.8,6.7,6.7,6.5,6.2],"mode":"markers","type":"scatter","name":"Cluster 2","marker":{"fillcolor":"rgba(252,141,98,0.5)","color":"rgba(252,141,98,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y"},{"x":[3.2,3.2,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2,3,2.2,2.9,2.9,3.1,3,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3,2.8,2.9,2.6,2.4,2.4,2.7,2.7,3,3.4,3.1,2.3,3,2.5,2.6,3,2.6,2.3,2.7,3,2.9,2.9,2.5,2.8,2.7,2.5,2.5,2.8,2.2,2.8,2.7,2.8,3,2.8,3,2.7,2.5,3],"y":[7,6.4,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5,5.9,6,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6,5.7,5.5,5.5,5.8,6,5.4,6,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5,5.6,5.7,5.7,6.2,5.1,5.7,5.8,4.9,5.7,5.8,6,5.6,6.3,6.2,6.1,6.3,6,5.8,6.3,5.9],"mode":"markers","type":"scatter","name":"Cluster 3","marker":{"fillcolor":"rgba(141,160,203,0.5)","color":"rgba(141,160,203,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y"}],"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script><p>Once this code has been written, it is very easy to produce a UI that lets the user change the values of the three parameters of the function <code>plotClusters</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">varNames &lt;-<span class="st"> </span><span class="kw">names</span>(iris)[<span class="dv">1</span>:<span class="dv">4</span>]

<span class="kw"><a href="reference/manipulateWidget.html">manipulateWidget</a></span>(
  <span class="kw">plotClusters</span>(xvar, yvar, nclusters),
  <span class="dt">xvar =</span> <span class="kw"><a href="reference/mwSelect.html">mwSelect</a></span>(varNames),
  <span class="dt">yvar =</span> <span class="kw"><a href="reference/mwSelect.html">mwSelect</a></span>(varNames, <span class="dt">value =</span> <span class="st">"Sepal.Width"</span>),
  <span class="dt">nclusters =</span> <span class="kw"><a href="reference/mwSlider.html">mwSlider</a></span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dt">value =</span> <span class="dv">3</span>)
)</code></pre></div>
<div class="figure">
<img src="vignettes/example-kmeans.gif" alt="An example of output of manipulateWidget"><p class="caption">An example of output of manipulateWidget</p>
</div>
<p>The package also provides the <code>combineWidgets</code> function to easily combine multiple interactive charts in a single view. Of course both functions can be used together: here is a more complex example that uses packages <code>dygraphs</code> and <code>plot_ly</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myPlotFun &lt;-<span class="st"> </span>function(distribution, range, title) {
  randomFun &lt;-<span class="st"> </span>switch(distribution, <span class="dt">gaussian =</span> rnorm, <span class="dt">uniform =</span> runif)
  myData &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
    <span class="dt">year =</span> <span class="kw">seq</span>(range[<span class="dv">1</span>], range[<span class="dv">2</span>]),
    <span class="dt">value =</span> <span class="kw">randomFun</span>(<span class="dt">n =</span> <span class="kw">diff</span>(range) +<span class="st"> </span><span class="dv">1</span>)
  )
  <span class="kw"><a href="reference/combineWidgets.html">combineWidgets</a></span>(
    <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">colsize =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">1</span>),
    <span class="kw">dygraph</span>(myData, <span class="dt">main =</span> title),
    <span class="kw"><a href="reference/combineWidgets.html">combineWidgets</a></span>(
      <span class="kw">plot_ly</span>(<span class="dt">x =</span> myData$value, <span class="dt">type =</span> <span class="st">"histogram"</span>),
      <span class="kw">paste</span>(
        <span class="st">"The graph on the left represents a random time series generated using a &lt;b&gt;"</span>,
        distribution, <span class="st">"&lt;/b&gt;distribution function.&lt;br/&gt;"</span>,
        <span class="st">"The chart above represents the empirical distribution of the generated values."</span>
      )
    )
  )
  
}

<span class="kw"><a href="reference/manipulateWidget.html">manipulateWidget</a></span>(
  <span class="kw">myPlotFun</span>(distribution, range, title),
  <span class="dt">distribution =</span> <span class="kw"><a href="reference/mwSelect.html">mwSelect</a></span>(<span class="dt">choices =</span> <span class="kw">c</span>(<span class="st">"gaussian"</span>, <span class="st">"uniform"</span>)),
  <span class="dt">range =</span> <span class="kw"><a href="reference/mwSlider.html">mwSlider</a></span>(<span class="dv">2000</span>, <span class="dv">2100</span>, <span class="dt">value =</span> <span class="kw">c</span>(<span class="dv">2000</span>, <span class="dv">2100</span>), <span class="dt">label =</span> <span class="st">"period"</span>),
  <span class="dt">title =</span> <span class="kw"><a href="reference/mwText.html">mwText</a></span>()
)</code></pre></div>
<div class="figure">
<img src="vignettes/fancy-example.gif" alt="Combining widgets and some html content"><p class="caption">Combining widgets and some html content</p>
</div>
<p>For more information take a look at the package vignettes.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=manipulateWidget">https://​cran.r-project.org/​package=manipulateWidget</a>
</li>
<li>Browse source code at <br><a href="https://github.com/rte-antares-rpackage/manipulateWidget">https://​github.com/​rte-antares-rpackage/​manipulateWidget</a>
</li>
<li>Report a bug at <br><a href="https://goo.gl/pV7o5c">https://​goo.gl/​pV7o5c</a>
</li>
</ul>
<h2>License</h2>
<p>GPL (&gt;= 2) | file <a href="LICENSE">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Francois Guillem <br><small class="roles"> Author, maintainer </small> </li>
<li>
<a href="http://www.rte-france.com"><img src="http://www.rte-france.com/sites/all/themes/rte/images/logo.png" height="24"></a> <br><small class="roles"> Copyright holder, funder </small> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
<html><body>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://cran.r-project.org/package=manipulateWidget"><img src="http://www.r-pkg.org/badges/version/manipulateWidget" alt="CRAN Status Badge"></a></li>
<li><a href="http://cran.r-project.org/package=manipulateWidget"><img src="https://cranlogs.r-pkg.org/badges/manipulateWidget" alt="CRAN Downloads Badge"></a></li>
</ul>
</body></html>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Francois Guillem, <a href="http://www.rte-france.com"><img src="http://www.rte-france.com/sites/all/themes/rte/images/logo.png" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
